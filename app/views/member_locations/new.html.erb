<div class="intro container content-section text-center">
  <%= form_for @member_location do |f| %>
    <div class="new-member-form">
      <%= @member_location.errors[:name] if @member_location.errors.any? %>
      <div class="col-lg-4 col-md-12 col-lg-offset-4 ">
        <div class="col-lg-6 col-md-12">
          <h2><%= t ".name" %></h2>
        </div>
        <div class="col-lg-6 col-md-12">
          <%= f.text_field :name, class: "form-control" %>
        </div>
      </div>
      <%= f.hidden_field :location %>
      <%= hidden_field_tag :code, params[:code] %>
      <div class="col-lg-12 col-md-12 btn-maps">
        <%= f.submit t('.go_to_map'), class: "btn btn-default btn-lg" %>
      </div>
    </div>
  <% end %>
</div>

<script>
  navigator.geolocation.getCurrentPosition(function(position) {
    var location = position.coords.latitude + "," + position.coords.longitude;
    console.log(location);
    $("#member_location_location").val(location);
  }, function() {
    handleLocationError(true, infoWindow, map.getCenter());
  });
</script>